{% extends 'base.html.twig' %}
{% block activePerson %}active
{% endblock %}

{% block title %}
	Index des personnages
{% endblock %}

{% block body %}
	{{ include('home/_header.html.twig', { heading_title: 'Personnages', heading_description: "Liste des personnages importants" }) }}
	<section class="mt-5 container-fluid">
		<h2 class="display-4 mb-4">Consulter la liste des personnages</h2>

		<div class="row my-4">
			{% for person in persons %}
				<div class="col-md-4 col-lg-3 my-2">
					<div class="card shadow-sm h-100">
						<div class="card-header text-uppercase">
							<i class="bi bi-folder-fill text-secondary me-1"></i>
							{% for category in person.categories %}
								<a href="{{ path('app_category_show', {slug: category.slug}) }}" class="person-label text-secondary">
									{{ category.title }}
								</a>
							{% else %}
								<span>Aucune categorie</span>
							{% endfor %}
						</div>
						{% if person.image %}
							<img src="{{ person.image }}" class="card-img-top" alt="...">
						{% else %}
							<svg class="bd-placeholder-img" width="100%" height="180" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Image cap" preserveaspectratio="xMidYMid slice" focusable="false">
								<title>Illustration du personnage</title>
								<rect width="100%" height="100%" fill="#868e96"></rect>
								<text x="25%" y="50%" fill="#dee2e6" dy=".3em">Aucune illustration</text>
							</svg>
						{% endif %}
						<div class="card-body">
							<h5 class="card-title">
								<a href="#">{{ person.firstname }}
									{{ person.lastname }}</a>
							</h5>
							<p class="card-text">{{ person.presentation|striptags|u.truncate(190, '...', false) }}</p>
						</div>
						<div class="card-footer small">
							<i class="bi bi-tag-fill text-muted me-1"></i>
							{% for portal in person.portals %}
								<a href="{{ path('app_portal_show', {slug: portal.slug}) }}" class="person-label text-secondary">
									{{ portal.title }}
								</a>
							{% else %}
								<span>Aucun portail</span>
							{% endfor %}
						</div>
					</div>
				</div>
			{% else %}
				<div class="col-12">
					<div class="alert alert-danger">Aucun personnage trouv√©</div>
				</div>
			{% endfor %}
		</div>
	</section>
{% endblock %}
