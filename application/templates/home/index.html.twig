{% extends 'base.html.twig' %}

{% block title %}Accueil | {{ app_name }}{% endblock %}

{% block body %}
    {{ include('home/_header.html.twig') }}
    <article class="mt-5">
        <aside class="text-center">
            {{ get_statistics() }} 
        </aside>

        <div class="row justify-content-between">
            <div class="col-md-7">
                <section class="overview">
                    <h2 class="overview__title">Présentation générale</h2>
                    <div class="overview__content">
                        {% if overview is null %}
                            Renseignez une présentation de l'encyclopédie
                        {% else %}
                            {{ overview.content|raw }}
                        {% endif %}
                    </div>
                    <div class="row mt-4">
                        <div class="col-4 text-end">
                            <a href="{{ path('app_portal_index') }}" class="text-decoration-none fw-bold">
                                <i class="bi bi-tag-fill me-1"></i> Tous les portails
                            </a>
                        </div>
                        <div class="col-4 text-center">
                            <a href="{{ path('app_article_index') }}" class="text-decoration-none fw-bold">
                                <i class="bi bi-file-earmark-text me-1"></i> Tous les articles
                            </a>
                        </div>
                        <div class="col-4">
                            <a href="{{ path('app_image') }}" class="text-decoration-none fw-bold">
                                <i class="bi bi-image me-1"></i> Galerie de {{ app_name }}
                            </a>
                        </div>
                    </div>
                </section>
            </div>
            <div class="col-md-4">
                <aside class="category-section">
                    <h2 class="h4">Catégories</h2>
                    <ul class="list-unstyled">
                        {% for category in categories %}
                            <li>
                                <a href="{{ path('app_category_show', {slug: category.slug}) }}" class="text-decoration-none">
                                    <i class="bi bi-folder-fill me-1"></i> 
                                    {{ category.title }}
                                </a>
                            </li>
                        {% else %}
                            <li>Aucune catégorie</li>
                        {% endfor %}
                    </ul>
                </aside>
            </div>
        </div>
    </article>
    <hr class="m-5">
    <article class="my-5 px-5">
        <h2 class="mb-5">Articles récents</h2>
        {{ include('components/layout/_row_link_list.html.twig', {path: 'app_article_show', items: articles}) }}
    </article>
{% endblock %}
